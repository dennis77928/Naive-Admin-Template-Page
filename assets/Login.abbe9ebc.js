import{_ as w,u as b,r as c,a as k,b as x,c as S,d as B,e as a,w as u,f as C,o as T,g as n,h as U,i as V,t as $,m as q,j as A}from"./index.3604c107.js";import{_ as I,a as L,b as N}from"./FormItem.176466d7.js";const R={class:"loginForm"},j={style:{display:"flex","justify-content":"flex-end"}},z={__name:"Login",setup(D){const{t:s}=b(),_=c(null),i=k(),m=x(),g=S(),t=c({username:null,password:null}),f={username:{required:!0,trigger:["blur","input"],message:s("placeholder.inputUsername")},password:{required:!0,trigger:["blur","input"],message:s("placeholder.inputPassword")}},h=o=>{var e;o.preventDefault(),(e=_.value)==null||e.validate(async l=>{if(!l){const r=i.loading(s("msg.verifying"));let p=await q(t.value);p.code===200?m.clearAllState(()=>{r.destroy(),i.success(s("msg.verifySuccess")),localStorage.setItem("token",p.data),g.push("/")}):(r.destroy(),console.log(l),i.error(s("msg.verifyFail")))}})};return(o,e)=>{const l=I,r=L,p=A,v=N,y=C;return T(),B("div",R,[a(y,{hoverable:"",size:"huge",title:"Admin Template",style:{width:"500px",height:"300px"}},{default:u(()=>[a(v,{ref_key:"formRef",ref:_,model:n(t),rules:f,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:"large",style:{maxWidth:"640px"}},{default:u(()=>[a(r,{label:o.$t("label.username"),path:"username"},{default:u(()=>[a(l,{value:n(t).username,"onUpdate:value":e[0]||(e[0]=d=>n(t).username=d),placeholder:o.$t("placeholder.inputUsername")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(r,{label:o.$t("label.password"),path:"password"},{default:u(()=>[a(l,{value:n(t).password,"onUpdate:value":e[1]||(e[1]=d=>n(t).password=d),placeholder:o.$t("placeholder.inputPassword"),type:"password","show-password-on":"mousedown"},null,8,["value","placeholder"])]),_:1},8,["label"]),U("div",j,[a(p,{round:"",type:"primary",onClick:h},{default:u(()=>[V($(n(s)("btn.login")),1)]),_:1})])]),_:1},8,["model"])]),_:1})])}}},E=w(z,[["__scopeId","data-v-a5a1f317"]]);export{E as default};
