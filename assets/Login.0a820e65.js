import{r as c,u as y,a as x,b,o as k,c as w,d as t,w as s,_ as B,e as l,f as C,g as S,m as T,h as V}from"./index.63fa240c.js";import{_ as q,a as A,b as N}from"./FormItem.28d825e8.js";const R={style:{display:"flex",height:"100vh","justify-content":"center","align-items":"center","flex-direction":"column"}},j={style:{display:"flex","justify-content":"flex-end"}},E={__name:"Login",setup(z){const i=c(null),u=y(),d=x(),m=b(),n=c({username:null,password:null}),f={username:{required:!0,trigger:["blur","input"],message:"\u8ACB\u8F38\u5165\u5E33\u865F"},password:{required:!0,trigger:["blur","input"],message:"\u8ACB\u8F38\u5165\u5BC6\u78BC"}},g=_=>{var e;_.preventDefault(),(e=i.value)==null||e.validate(async a=>{if(!a){const o=u.loading("\u767B\u9304\u4E2D...");let r=await T(n.value);r.code===200?d.clearAllState(()=>{o.destroy(),u.success("\u9A57\u8B49\u6210\u529F"),localStorage.setItem("token",r.data),m.push("/")}):(o.destroy(),console.log(a),u.error("\u9A57\u8B49\u5931\u6557"))}})};return(_,e)=>{const a=q,o=A,r=V,h=N,v=B;return k(),w("div",R,[t(v,{hoverable:"",size:"huge",title:"Admin Template",style:{width:"500px",height:"300px"}},{default:s(()=>[t(h,{ref_key:"formRef",ref:i,model:l(n),rules:f,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:"large",style:{maxWidth:"640px"}},{default:s(()=>[t(o,{label:"\u5E33\u865F",path:"username"},{default:s(()=>[t(a,{value:l(n).username,"onUpdate:value":e[0]||(e[0]=p=>l(n).username=p),placeholder:"\u8ACB\u8F38\u5165\u5E33\u865F"},null,8,["value"])]),_:1}),t(o,{label:"\u5BC6\u78BC",path:"password"},{default:s(()=>[t(a,{value:l(n).password,"onUpdate:value":e[1]||(e[1]=p=>l(n).password=p),placeholder:"\u8ACB\u8F38\u5165\u5BC6\u78BC"},null,8,["value"])]),_:1}),C("div",j,[t(r,{round:"",type:"primary",onClick:g},{default:s(()=>[S(" \u767B\u5165 ")]),_:1})])]),_:1},8,["model"])]),_:1})])}}};export{E as default};
